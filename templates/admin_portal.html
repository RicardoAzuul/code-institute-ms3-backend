{% extends "base.html" %}
{% block admin %}nav-item active{% endblock %}
{% block content %}

<!-- card from Bootstrap (https://getbootstrap.com/docs/4.6/components/card/), customized for this site -->
<div class="card shadow p-3 mb-5 bg-white rounded" id="admin-card">
  <div class="card-header">
    <h1 class="text-center">Admin Portal</h1>
  </div>
  <div class="card-body">
    <h2 class="card-text">Books In The Database</h2>
    <table class="table table-hover">
      <tbody>
        {% for book in books %}
          <tr>
            <td>{{ book.title }}</td>
            <td class="text-right"><a href="{{ url_for('edit_book', book_id=book._id) }}" class="btn btn-success">Edit</a></td>
            <td class="text-right"><a href="{{ url_for('delete_book', book_id=book._id) }}" class="btn btn-danger">Delete</a></td>
          </tr> 
        {% endfor %}
      </tbody>
    </table>
    <h2 class="card-text">Reviews In The Database</h2>
    <table class="table table-hover">
      <tbody>
        {% for review in reviews %}
          <tr>
            <td>
              Review of: {{ review.booktitle }}
            </td>
            <td class="text-right">
              <a href="{{ url_for('delete_review', review_id=review._id) }}" class="btn btn-danger">Delete</a>
            </td>
          </tr>
        {% endfor %}
      </tbody>
    </table>       
    <h2 class="card-text">Users In The Database</h2>
    <table class="table table-hover">
      <tbody>
        {% for user in users %}
          <tr>
            <td>
              Username: {{ user.username }}
            </td>
            <td class="text-right">
              <!-- IMPROVE: delete users, edit? -->
              <a href="" class="btn btn-danger">Delete</a>
            </td>
          </tr>
        {% endfor %}
      </tbody>
    </table>    
    <h2 class="card-text">Genres In the Database</h2>
    <a href="" class="btn btn-primary">Add</a>
    <table class="table table-hover">
      <tbody>
        {% for genre in genres %}
          <tr>
            <td colspan="2">Genre: {{ genre.genreName }}</td>
            <!-- IMPROVE: Add, delete genres -->
            <td class="text-right"><a href="" class="btn btn-danger">Delete</a></td>
          </tr>
        {% endfor %}
      </tbody>
    </table> 
  </div>
  <div class="card-footer">
    <div class="row">
      <div class="col text-center">
      </div>
    </div>
  </div>
</div>


{% endblock %}
